(()=>{"use strict";const e=document.querySelector(".main-card");let t=[];class l{constructor(e,t,l){this.active=e,this.complete=t,this.info=l}}const c=document.querySelector("#count");function o(){let e=[];for(let l=0;l<t.length;l++)t[l].active&&e.unshift(t[l]);c.innerText=`${e.length} items left`}function n(){let e=document.querySelectorAll(".todo");for(let t=0;t<e.length;t++)e[t].style.display="flex"}function i(){let e=document.querySelectorAll(".todo");for(let l=0;l<e.length;l++)1==t[l].active?e[l].style.display="flex":e[l].style.display="none"}function s(){let e=document.querySelectorAll(".todo");for(let l=0;l<e.length;l++)1==t[l].active?e[l].style.display="none":e[l].style.display="flex"}function r(e,l){let c=document.querySelectorAll(".todo");t.splice(t.indexOf(e),1),c[l].remove(),o()}const d=document.querySelector("html"),u=document.querySelector(".theme-switcher"),a=document.querySelector(".background"),m=document.querySelector(".create-todo"),f=document.querySelector("#status-all"),h=document.querySelector("#status-active"),p=document.querySelector("#status-complete"),y=document.querySelector("#clear-complete");o(),window.location.href="#status-all",u.addEventListener("click",(()=>{d.classList.contains("light")?(d.setAttribute("class","dark"),a.src="images/bg-desktop-dark.jpg"):(d.setAttribute("class","light"),a.src="images/bg-desktop-light.jpg")})),m.addEventListener("keyup",(c=>{if(13===c.keyCode&&""!==m.value){let c=new l(!0,!1,m.value);t.unshift(c),function(l,c){let n=document.createElement("div");n.setAttribute("class","todo"),e.prepend(n);let i=document.createElement("input");i.setAttribute("type","checkbox"),i.setAttribute("class","todo-checkbox"),n.appendChild(i);let s=document.createElement("label");s.setAttribute("for","todo"),s.setAttribute("data-content",`${c}`),s.setAttribute("class","todo-text"),s.innerText=`${c}`,n.appendChild(s);let r=document.createElement("button");r.setAttribute("class","close-todo clickable"),r.innerText="X",n.appendChild(r),r.addEventListener("click",(()=>{!function(e,l){t.splice(t.indexOf(l),1),e.remove(),o()}(n,l)})),i.addEventListener("click",(()=>{!function(e,t){!0===e.checked?(t.complete=!0,t.active=!1):(t.complete=!1,t.active=!0)}(i,l),o()}))}(c,c.info),o(),/all/.test(window.location.href)?n():/active/.test(window.location.href)?i():/complete/.test(window.location.href)&&s(),m.value=""}})),h.addEventListener("click",(()=>{i()})),p.addEventListener("click",(()=>{s()})),f.addEventListener("click",(()=>{n()})),y.addEventListener("click",(()=>{!function(){let e=[];for(let l=0;l<t.length;l++)t[l].active||e.push(t[l]);for(let l=0;l<e.length;l++){let c=t.indexOf(e[l]);r(e[l],c)}}()}))})();